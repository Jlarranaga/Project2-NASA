<%- include('../partials/header') %>


<div class="container center">
    <iframe src="/public/audio/wandering-6394.mp3" allow="autoplay" style="display:none" id="iframeAudio">
    </iframe> 
    <video playsinline preload="auto" autoplay muted loop src="/public/videos/nebulaBackground.mp4" type="video/mp4" id="homeBackground">
    </video>
    <h1 class="h2Search">Favorite's List</h1>

    <%if(Array.isArray(imageVideo)){ %>
    
    
    <h2 class="h2Search"><%= imageVideo[0].imageVideoLib[0].title %></h2>
    <% if(imageVideo[0].imageVideoLib[0].media_type === 'image'){%>

    <div class="container col" style="width: 18rem">
        <img src="<%= imageVideo[0].imageVideoLib[0].media%>" alt="NASA Image" class="nasaImage">
    </div>
    <% }else if(imageVideo[0].imageVideoLib[0].media_type === 'video'){ %>

        <div class="container col" style="width: 18rem">
        
            <video playsinline controls autoplay class="nasaVideo">
            <source src="<%= imageVideo[0].imageVideoLib[0].media%>">
        </video>
        </div>
        <% }%>
    <table class="table table-striped mt-3">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td scope="row"><%= imageVideo[0].imageVideoLib[0].date%></td>
                <td scope="row"><%= imageVideo[0].imageVideoLib[0].description%></td>
            </tr>
        </tbody>
    </table>
    <a href="../favorite/all"> Back to Favorites</a>
                
                <h5 class="favShow">Update information in Favorites?</h5>
                <form action="../favorite/update/<%= imageVideo[0].imageVideoLib[0].nasa_id%>?_method=PUT" method="POST">
                    <fieldset>
                        <h5 class="favShow">Check mark what you would like to add or remove </h5>
                    <input hidden type="text" name="title" value="<%= imageVideo[0].imageVideoLib[0].title %>">
                    <input hidden type="text" name="nasa_id" value="<%= imageVideo[0].imageVideoLib[0].nasa_id%>">
                    <label for="date">Date</label>
                    <input type="checkbox" name="date" <%= imageVideo[0].imageVideoLib[0].date ? 'checked' : '' %>>
                    <input hidden type="text" name="media_type" value="<%= imageVideo[0].imageVideoLib[0].media_type %>">
                    <label for="description">Description</label>
                    <input type="checkbox" name="description" <%= imageVideo[0].imageVideoLib[0].description ? 'checked' : '' %>>
                    <input hidden type="text" name="media" value="<%= imageVideo[0].imageVideoLib[0].media %>">
                </fieldset>
                <input type="submit" value="Update Favorite">
                </form>
                <form action="../favorite/delete/<%=imageVideo[0].imageVideoLib[0].nasa_id%>?_method=DELETE" method="POST">
                    <input type="submit" value="delete favorite">
                    </form>

<%} else if(!Array.isArray(imageVideo)){ %>
    
    <h2 class="h2Search"><%= imageVideo.imageVideoLib[0].title %></h2>
    <% if(imageVideo.imageVideoLib[0].media_type === 'image'){%>

    <div class="container col" style="width: 18rem">
        <img src="<%= imageVideo.imageVideoLib[0].media%>" alt="NASA Image" class="nasaImage">
    </div>
    <% }else if(imageVideo.imageVideoLib[0].media_type === 'video'){ %>

        <div class="container col" style="width: 18rem">
        
            <video playsinline controls autoplay class="nasaVideo">
            <source src="<%= imageVideo.imageVideoLib[0].media%>">
        </video>
        </div>
        <% }%>
    <table class="table table-striped mt-3">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td scope="row"><%= imageVideo.imageVideoLib[0].date%></td>
                <td scope="row"><%= imageVideo.imageVideoLib[0].description%></td>
            </tr>
        </tbody>
    </table>
    <a href="../favorite/all"> Back to Favorites</a>
                
                <h5 class="favShow">Update information in Favorites?</h5>
                <form action="../favorite/update/<%= imageVideo.imageVideoLib[0].nasa_id%>?_method=PUT" method="POST">
                    <fieldset>
                        <h5 class="favShow" >Check or uncheck to add or remove </h5>
                    <input hidden type="text" name="title" value="<%= imageVideo.imageVideoLib[0].title %>">
                    <input hidden type="text" name="nasa_id" value="<%= imageVideo.imageVideoLib[0].nasa_id%>">
                    <label for="date" class="favShow">Date</label>
                    <input type="checkbox" name="date" <%= imageVideo.imageVideoLib[0].date ? 'checked' : '' %>>
                    <input hidden type="text" name="media_type" value="<%= imageVideo.imageVideoLib[0].media_type %>">
                    <label for="description" class="favShow">Description</label>
                    <input type="checkbox" name="description" <%= imageVideo.imageVideoLib[0].description ? 'checked' : '' %>>
                    <input hidden type="text" name="media" value="<%= imageVideo.imageVideoLib[0].media %>">
                </fieldset>
                <input type="submit" value="Update Favorite">
                </form>
                <form action="../favorite/delete/<%=imageVideo.imageVideoLib[0].nasa_id%>?_method=DELETE" method="POST">
                    <input type="submit" value="delete favorite">
                    </form>
<%}%>

</div>

<%- include('../partials/footer') %>

